@using Zeta.AgentosCRM.Authorization
@using Zeta.AgentosCRM.Web.Areas.AppAreaName.Models.Agents;
@using Zeta.AgentosCRM.Web.Areas.AppAreaName.Startup;
@model AgentViewModel
@{
    ViewBag.CurrentPageName = AppAreaNamePageNames.Tenant.Agent;
}
@section Scripts
    {
    @* <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/Index.js" asp-append-version="true"></script> *@
    <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/NoteandTerms/NotesAndTerms.js" asp-append-version="true"></script>
    <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/Applications/Applications.js" asp-append-version="true"></script>
    <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/AgentContact/Contact.js" asp-append-version="true"></script>
    <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/ReferredClients/ReferredClients.js" asp-append-version="true"></script>
    <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/AgentDetails.js" asp-append-version="true"></script>
    @* <script abp-src="/view-resources/Areas/AppAreaName/Views/Agents/ReferredClients/_ReferredClients.js" asp-append-version="true"></script> *@
}

@section Styles
    {
    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/Common/_PartialCardView.css" asp-append-version="true" />
    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/Partners/Application/Application.css" asp-append-version="true" />
    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/Partners/InformationDetails/_OtherInformationDetails.css" asp-append-version="true" />
    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/_Bundles/demo-ui-components.css" asp-append-version="true" />

    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/Common/_PartialCardView.css" asp-append-version="true" />
    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/Client/_ClientOtherInformation.css" asp-append-version="true" />
    <link rel="stylesheet" abp-href="/view-resources/Areas/AppAreaName/Views/_Bundles/demo-ui-components.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/css/intlTelInput.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/intlTelInput.min.js"></script>
  }
@{
    ViewBag.CurrentPageName = AppAreaNamePageNames.Tenant.Agent;
}
<div class="cards">
    <div class="mt-3  maincard">
        <div class="row DetailformAgent">
            <div class="col-md-12">
                <div class="card shadow">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-12 mb-3 text-start">
                                        <div class="symbol symbol-100px symbol-lg-160px symbol-fixed position-relative ">
                                            @* <img src="/Common/Images/Agent.jpg" alt="Metronic" class="rounded-circle" /> *@
                                            <img id="profileImage" src="" class="rounded-circle" />
                                        </div>
                                    </div>
                                    <div class="col-lg-1"></div>
                                    <div class="col-lg-1">
                                        <a class="text-muted rounded-circle" data-toggle="tooltip" title="Email">
                                            <span class="fa fa-envelope"></span>
                                        </a>
                                    </div>
                                    <div class="col-1">
                                        <a class="text-muted rounded-circle" data-toggle="tooltip" title="Edit">
                                            <span class="fa fa-pencil"></span>
                                        </a>
                                    </div>

                                    <div class="col-1">
                                        <a class="text-muted rounded-circle" data-toggle="tooltip" title="SMS">
                                            <span class="fa fa-comment"></span>
                                        </a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-1"></div>
                                    <div class="col-lg-11">
                                        <div class="d-flex align-items-center">
                                            <a class="text-gray-800 text-hover-primary fs-2 fw-bolder me-1 cursor-pointer custominput">
                                                @Model.Agent.Name
                                            </a>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            @* Second Part Of Card *@
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-12 text-start">
                                        <label for="AddedFrom " class="custominput">Email:</label>
                                        <p class="text-muted"> @Model.Agent.Email</p>
                                        <input type="hidden" value="@Model.Agent.Id" id="AgentId" name="AgentId" />
                                        <input type="hidden" value="@Model.Agent.Name" id="AgentName" name="AgentName" />
                                    </div>
                                    <div class="col-lg-12   text-start">

                                        <label for="AddedFrom " class="custominput">Phone No:</label>
                                        <p class="text-muted">  @Model.Agent.PhoneNo</p>
                                    </div>
                                    <div class="col-lg-12  text-start">
                                        <label for="ClientId" class="form-label form-label-sm"> Address:</label>
                                        <p class="text-muted">@Model.Agent.Street, @Model.Agent.City, @Model.Agent.State,  @Model.CountryName</p>
                                    </div>

                                    <div class="col-lg-12 text-start">
                                        <label for="ClientId" class="form-label form-label-sm">Agent Type:</label>
                                        <p class="text-muted">
                                            @if (Model.Agent.IsSuperAgent)
                                            {
                                                <button value="Sub agent">Super Agent</button>
                                            }
                                            else
                                            {
                                                <button value="Sub agent">Sub Agent</button>
                                            }
                                        </p>
                                    </div>
                                </div>

                            </div>

                            @* Third Part of Card *@

                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-12 pb-2 text-start">
                                        <label for="Phone" class="form-label form-label-sm">
                                            Income Sharing Percentage:
                                        </label><br />
                                        <p class="text-muted">@Model.Agent.IncomeSharingPer</p>
                                    </div>
                                    <div class="col-lg-12 pb-2 text-start">
                                        <label for="Phone" class="form-label form-label-sm">
                                            Associated Offices:
                                        </label><br />
                                        <p class="text-muted">Lahore Office</p>
                                    </div>
                                    <div class="col-lg-12 pb-2 text-start">
                                        <label for="Phone" class="form-label form-label-sm">
                                            Tax Number:
                                        </label><br />
                                        <p class="text-muted">@Model.Agent.TaxNo</p>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*<div class="container mt-2">*@
    <div class="mt-2 navbar-link-card">

        <div class="card navbar-link-card-height">
            <div class="card-Head">
                <div class="d-flex overflow-auto h-55px navbar-link-card-Allign">
                    <ul class="
          nav nav-stretch nav-line-tabs nav-line-tabs-2x
          border-transparent

          fw-bolder
          flex-nowrap

        ">
                        <li class="nav-item">
                            <a href="#NoteTerm" data-bs-toggle="tab" role="tab" class="nav-link navbar-link-item-card-font active" aria-selected="true">
                                @L("NotesAndTerms")
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#ReferredClientTab" data-bs-toggle="tab" role="tab" class="nav-link navbar-link-item-card-font ">
                                @L("ReferredClients")
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#AgentContactsTab" data-bs-toggle="tab" role="tab" class="nav-link navbar-link-item-card-font ">
                                @L("Agent Contacts")
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#ApplicationTab" data-bs-toggle="tab" role="tab" class="nav-link navbar-link-item-card-font ">
                                @L("Application")
                            </a>
                        </li>

                        <li class="nav-item">
                            <a href="#AccountsTab" data-bs-toggle="tab" role="tab" class="nav-link navbar-link-item-card-font ">
                                @L("Account")
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div>
        <div class="tab-content ">
            <div class="tab-pane pt-5 active" id="NoteTerm" role="tabpanel">
                <div class="list-group">
                    @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/NoteandTerm/NotesAndTerms.cshtml")
                </div>
            </div>

            <div class="tab-pane pt-5 mb-7" id="ReferredClientTab" role="tabpanel">
                <div class="list-group">
                    @* @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/NoteandTerm/_NotesAndTerms.cshtml") *@
                    @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/ReferredClients/Index.cshtml")
                    @* @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/ReferredClients/_ReferredClients.cshtml") *@
                </div>
            </div>
            <div class="tab-pane pt-5 mb-7" id="AgentContactsTab" role="tabpanel">
                <div class="list-group">
                    @* @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/NoteandTerm/_NotesAndTerms.cshtml") *@
                    @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/AgentContact/Contact.cshtml")
                    @* @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/ReferredClients/_ReferredClients.cshtml") *@
                </div>
            </div>
            <div class="tab-pane pt-5 mb-7" id="ApplicationTab" role="tabpanel">
                <div class="list-group">
                    @await Html.PartialAsync("~/Areas/AppAreaName/Views/Agents/Applications/Index.cshtml")
                </div>
            </div>
            <div class="tab-pane pt-5 mb-7" id="AccountsTab" role="tabpanel">
                <div class="list-group">
                    @* @await Html.PartialAsync("~/Areas/AppAreaName/Views/MainForm/_InterestedService.cshtml") *@
                </div>
            </div>


        </div>
    </div>
